# MCP Server Configuration for GHM Agents
# Reference: methodology/workflows/AGENT_TOOLS.md
#
# This file defines MCP server configurations for different agent profiles.
# Copy the relevant section to your Claude Code, Cursor, or VS Code setup.

---
# Version and metadata
version: "1.0"
updated: "2025-12-07"
documentation: "https://modelcontextprotocol.io/"

# ============================================================================
# RESEARCH SERVERS
# Primary users: AURA, SPARK-SCOUT, SEGMENTOR, MOAT-MAPPER, RISK-ORACLE
# ============================================================================

research_servers:
  RivalSearchMCP:
    url: "https://RivalSearchMCP.fastmcp.app/mcp"
    description: "Advanced web research, content discovery, and trends analysis"
    repository: "https://github.com/damionrashford/RivalSearchMCP"
    api_key_required: false

    tools:
      # Search & Discovery
      - name: web_search
        description: "Advanced search with Cloudflare bypass, multi-engine fallback"
        primary_users: [SPARK-SCOUT, SEGMENTOR, MOAT-MAPPER, RISK-ORACLE]

      - name: research_topic
        description: "End-to-end comprehensive topic analysis"
        primary_users: [SPARK-SCOUT, RISK-ORACLE, ADOPTION-ANALYST]

      # Content Retrieval
      - name: retrieve_content
        description: "Extract content from URLs with multiple methods"
        primary_users: [all]

      - name: stream_content
        description: "Process real-time streaming content from WebSocket URLs"
        primary_users: [ADOPTION-ANALYST]

      # Website Analysis
      - name: traverse_website
        description: "Intelligent website exploration (research, docs, map modes)"
        primary_users: [MOAT-MAPPER, ARCHITECT]
        modes: [research, docs, map]

      # Content Analysis
      - name: analyze_content
        description: "AI-powered extraction and insights generation"
        primary_users: [MOAT-MAPPER, SEGMENTOR, JOURNEY-SCRIBE]

      - name: extract_links
        description: "Analyze and extract links from web pages"
        primary_users: [all_research]

      # Trends Analysis
      - name: search_trends
        description: "Keyword research and trend analysis"
        primary_users: [SEGMENTOR, MOAT-MAPPER, LAUNCH-CALLER]

      - name: get_interest_by_region
        description: "Geographic interest data"
        primary_users: [SEGMENTOR]

      - name: get_trending_searches
        description: "Current trending topics"
        primary_users: [SPARK-SCOUT, MOAT-MAPPER]

      # Documentation
      - name: generate_llms_txt
        description: "Create LLM-optimized documentation"
        primary_users: [ARCHITECT, QA-MAESTRO]

# ============================================================================
# DEVELOPMENT SERVERS (Optional)
# Primary users: APOLLO, ARCHITECT, QA-MAESTRO, AUTOMATION-RUNNER
# ============================================================================

development_servers:
  # GitHub integration for repository operations
  github:
    command: "github"  # Built-in for Claude Code
    description: "Repository operations, PR management, issue tracking"
    primary_users: [APOLLO, AUTOMATION-RUNNER]
    api_key_required: true
    api_key_env: "GITHUB_TOKEN"

  # Memory for persistent context
  memory:
    command: "memory"  # Built-in for Claude Code
    description: "Persistent context across sessions"
    primary_users: [AURA, APOLLO, JANUS]

  # Playwright for browser automation (optional)
  playwright:
    url: "npx @anthropic/mcp-server-playwright"
    description: "Browser automation and screenshot capture"
    primary_users: [QA-MAESTRO]
    setup_notes: "Requires local installation: npx @anthropic/mcp-server-playwright"

# ============================================================================
# AGENT PROFILES
# Pre-configured tool sets for each agent role
# ============================================================================

agent_profiles:
  # Strategy agents (v0.1-v0.5)
  AURA:
    required_servers: [RivalSearchMCP]
    optional_servers: [memory]
    primary_tools:
      - web_search
      - research_topic
      - analyze_content

  SPARK-SCOUT:
    required_servers: [RivalSearchMCP]
    primary_tools:
      - web_search
      - research_topic
      - get_trending_searches
      - retrieve_content

  SEGMENTOR:
    required_servers: [RivalSearchMCP]
    primary_tools:
      - web_search
      - analyze_content
      - search_trends
      - get_interest_by_region

  MOAT-MAPPER:
    required_servers: [RivalSearchMCP]
    primary_tools:
      - web_search
      - traverse_website
      - analyze_content
      - search_trends
      - get_trending_searches

  JOURNEY-SCRIBE:
    required_servers: [RivalSearchMCP]
    primary_tools:
      - retrieve_content
      - analyze_content

  RISK-ORACLE:
    required_servers: [RivalSearchMCP]
    primary_tools:
      - web_search
      - research_topic
      - retrieve_content

  # Build agents (v0.6-v0.8)
  APOLLO:
    required_servers: [RivalSearchMCP]
    optional_servers: [github, memory]
    primary_tools:
      - retrieve_content
      - traverse_website

  ARCHITECT:
    required_servers: [RivalSearchMCP]
    primary_tools:
      - traverse_website
      - generate_llms_txt
      - retrieve_content

  QA-MAESTRO:
    required_servers: [RivalSearchMCP]
    optional_servers: [playwright]
    primary_tools:
      - retrieve_content

  AUTOMATION-RUNNER:
    required_servers: []
    optional_servers: [github]
    primary_tools:
      - retrieve_content

  # GTM agents (v0.8-v1.0)
  JANUS:
    required_servers: [RivalSearchMCP]
    optional_servers: [memory]
    primary_tools:
      - stream_content
      - search_trends

  LAUNCH-CALLER:
    required_servers: [RivalSearchMCP]
    primary_tools:
      - search_trends

  ADOPTION-ANALYST:
    required_servers: [RivalSearchMCP]
    primary_tools:
      - stream_content
      - analyze_content
      - research_topic

# ============================================================================
# SETUP INSTRUCTIONS
# Platform-specific configuration snippets
# ============================================================================

setup_instructions:
  claude_code:
    description: "Claude Code CLI setup"
    commands:
      - "# Add RivalSearchMCP"
      - "claude mcp add RivalSearchMCP --url https://RivalSearchMCP.fastmcp.app/mcp"
      - ""
      - "# Verify installation"
      - "claude mcp list"
      - ""
      - "# Optional: Add GitHub MCP (requires GITHUB_TOKEN env var)"
      - "claude mcp add github"

  claude_desktop:
    description: "Claude Desktop configuration"
    config_path: "~/Library/Application Support/Claude/claude_desktop_config.json (macOS)"
    config_snippet: |
      {
        "mcpServers": {
          "RivalSearchMCP": {
            "url": "https://RivalSearchMCP.fastmcp.app/mcp"
          }
        }
      }

  cursor:
    description: "Cursor IDE configuration"
    config_path: ".cursor/mcp.json"
    config_snippet: |
      {
        "servers": {
          "RivalSearchMCP": {
            "url": "https://RivalSearchMCP.fastmcp.app/mcp"
          }
        }
      }

  vscode:
    description: "VS Code configuration"
    config_path: ".vscode/mcp.json or settings.json"
    config_snippet: |
      {
        "mcp.servers": {
          "RivalSearchMCP": {
            "url": "https://RivalSearchMCP.fastmcp.app/mcp"
          }
        }
      }

# ============================================================================
# FUTURE SERVERS (Planned)
# Servers under evaluation for future integration
# ============================================================================

planned_servers:
  # Database exploration
  postgres:
    description: "PostgreSQL database exploration and query"
    potential_users: [ARCHITECT, QA-MAESTRO]
    status: "evaluating"

  # Cloud providers
  aws:
    description: "AWS resource management and documentation"
    potential_users: [AUTOMATION-RUNNER, ARCHITECT]
    status: "evaluating"

  # Monitoring
  datadog:
    description: "Metrics and monitoring integration"
    potential_users: [ADOPTION-ANALYST, AUTOMATION-RUNNER]
    status: "evaluating"

  # Documentation
  notion:
    description: "Notion workspace integration"
    potential_users: [AURA, JANUS]
    status: "evaluating"
